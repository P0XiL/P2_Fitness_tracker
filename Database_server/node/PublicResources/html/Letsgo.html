<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Lets GO Fitness Tracker</title>
    <link rel="stylesheet" href="css/simple.css">
</head>

<body>
    <header>Lets GO</header>
    <!-- Navigation links -->
    <nav id="side-nav" style="display: none;">
        <ul id="side-navigation-links">
            <ul><br>
                <li><a href="#main" class="active"><img src="image/quest_marker.png" class="nav-img">Quests</a></li><br>
                <li><a href="#friends"><img src="image/friends.png" class="nav-img">Friends</a></li><br>
                <li><a href="#stats"><img src="image/stats.png" class="nav-img">Stats</a></li>
                <li><a href="#profilepage" id="profile-link">Profile</a></li>
            </ul>
    </nav>

    <nav id="top-nav" style="display: none;">
        <ul id="top-navigation-links">
            <li><a href="#main"><img src="image/home.png" alt="Home" class="top-right-img"></a></li>
            <li><a href="#profilepage"><img src="image/profile_image.png" alt="Profile" class="top-left-img"></a></li>
        </ul>
    </nav>

    <!-- A popup when choosing new quest-->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <button id="close" class="close-button">&#x2715;</button>
            <h2 id="popupText"></h2>
            <div class="buttons-wrapper">
                <button class="difficulty-button" data-difficulty="-3">Easy</button>
                <button class="difficulty-button" data-difficulty="0">Medium</button>
                <button class="difficulty-button" data-difficulty="3">Hard</button>
            </div>
        </div>
    </div>

    <div id="inputModal" class="modal">
        <div class="modal-content">
            <h2 id="InputHeader"></h2>
            <p id="InputPopupText"></p>
            <input type="text" id="InputInputfield" name="InputInputfield" placeholder="Enter amount here" value="">
            <button id="add">add</button>
            <button id="subtract">subtract</button>
            <button id="close_input">Close</button>
        </div>
    </div>

    <!-- Page sections -->
    <div id="main" class="page">
        <div id="usernameDisplay" class="username-display"></div>
        <h2 class="heading">Quests</h2>
        <div class="questpage">
            <div id="dailyQuestTier" class="tiers"></div>
            <div id="weeklyQuestTier" class="tiers"></div>
            <div id="monthlyQuestTier" class="tiers"></div>

            <div id="quest1" class="quest">
                <h2 class="center-heading">Daily</h2>
                <meter id="meter1" value="0" min="0" max="1"></meter>
                <p id="quest1_type"></p>
            </div>

            <div id="quest2" class="quest">
                <h2 class="center-heading">Weekly</h2>
                <meter id="meter2" value="0" min="0" max="1"></meter>
                <p id="quest2_type"></p>
            </div>

            <div id="quest3" class="quest">
                <h2 class="center-heading">Monthly</h2>
                <meter id="meter3" value="0" min="0" max="1"></meter>
                <p id="quest3_type"></p>
            </div>
        </div>
    </div>



    <div id="friends" class="page center">
        <h2>Friends</h2>
        <p>The friends feature goes here</p>

        <a href="#" id="toggleFriendPageLink" class="dropbtn">Show friends</a>

    </div>


    <div id="stats" class="page center">
        <h2>Stats</h2>
        <p id="statsTextUser"></p>

        <div class="dropdown-container">
            <div class="dropdown">
                <button onclick="dropdown_toggle('myDropdown')" class="dropbtn">Change type</button>
                <div id="myDropdown" class="dropdown-content">
                    <a href="#" onclick="update_graph('run', null)">Run</a>
                    <a href="#" onclick="update_graph('walk', null)">Walk</a>
                    <a href="#" onclick="update_graph('cycling', null)">Cycling</a>
                    <a href="#" onclick="update_graph('plank', null)">Plank</a>
                    <a href="#" onclick="update_graph('situp', null)">Situp</a>
                    <a href="#" onclick="update_graph('backextentions', null)">Backextentions</a>
                    <a href="#" onclick="update_graph('burpees', null)">Burpees</a>
                    <a href="#" onclick="update_graph('crunches', null)">Crunches</a>
                    <a href="#" onclick="update_graph('squats', null)">Squats</a>
                    <a href="#" onclick="update_graph('lunges', null)">Lunges</a>
                    <a href="#" onclick="update_graph('wallsit', null)">Wallsit</a>
                    <a href="#" onclick="update_graph('pushups', null)">Pushups</a>
                    <a href="#" onclick="update_graph('dips', null)">Dips</a>
                    <a href="#" onclick="update_graph('armcircles', null)">Armcircles</a>
                </div>
            </div>
        </div>


        <div class="dropdown-container">
            <div class="dropdown">
                <button onclick="dropdown_toggle('myDropdown1')" class="dropbtn">Change period</button>
                <div id="myDropdown1" class="dropdown-content">
                    <a href="#" onclick="update_graph(null, 'daily')">Daily</a>
                    <a href="#" onclick="update_graph(null, 'weekly')">Weekly</a>
                    <a href="#" onclick="update_graph(null, 'monthly')">Monthly</a>
                </div>
            </div>
        </div>


        <div>
            <h1>Graph</h1>
            <p id="text"> </p>
            <canvas id="myChart" style="width:100%;max-width:1000px"></canvas>
        </div>
    </div>

    <div id="createAccount" class="page">
        <h2>Create account</h2>
        <p>Username</p>
        <input type="text" name="create_username"> <!-- Add name attribute for username field -->
        <p>Password</p>
        <input type="password" name="create_password"> <!-- Add name attribute for password field -->
        <p>Confirm password</p>
        <input type="password" name="create_confirm_password">
        <br>
        <span id="createErrorMessage"></span> <!-- Error message placeholder -->
        <br>
        <a href="#" id="toggleCreatePageLink">Already have an account? Login here</a>
        <br><br>
        <button id="submitBtn" type="submit">Create user</button> <!-- Add submit button -->
    </div>

    <!-- Login Form -->
    <div id="loginPage" class="page">
        <h2>Login</h2>
        <p>Username</p>
        <input type="text" name="login_username">
        <p>Password</p>
        <input type="password" name="login_password">
        <br>
        <span id="loginErrorMessage"></span>
        <br>
        <a href="#" id="toggleLoginPageLink">Don't have an account? Create one here</a>
        <br><br>
        <button id="loginBtn" type="submit">Login</button>
    </div>

    <div id="profilepage" class="page">
        <div class="profileHeader-container" id="profile_Username">
            <h2 class="heading"></h2>
            <div id="logout">
                <button id="logoutBtn" type="submit">Logout</button>
            </div>
        </div>

        <div id="profilePageContainer" class="profile">
            <h2 style="text-align: center;">Tiers</h2>

            <div id="userTiers" class="profile_layout">
                <div class="tiers">
                    <div id="dailyTier" class="tier">
                        <h2>Daily <span id="dailyTierInfo">Tier</span></h2>
                        <img id="dailyTierImage" src="image/bronzeTier.png" alt="Daily Tier Image">
                        <meter id="dailyMeter" value="0" min="0" max="100" style="width: 50%;"></meter>
                    </div>

                    <div id="weeklyTier" class="tier">
                        <h2>Weekly <span id="weeklyTierInfo">Tier</span></h2>
                        <img id="weeklyTierImage" src="image/silverTier.png" alt="Weekly Tier Image">
                        <meter id="weeklyMeter" value="0" min="0" max="50" style="width: 50%;"></meter>
                    </div>

                    <div id="monthlyTier" class="tier">
                        <h2>Monthly <span id="monthlyTierInfo">Tier</span></h2>
                        <img id="monthlyTierImage" src="image/goldTier.png" alt="Monthly Tier Image">
                        <meter id="monthlyMeter" value="0" min="0" max="20" style="width: 50%;"></meter>
                    </div>
                </div>
            </div>
            <br>
            <h2 style="text-align: center;">Masteries</h2>
            <div id="userMasteries" class="profile_layout">
                <div class="tiers">
                </div>
            </div>


            <div id="userInfo" class="profile_layout">
                <h2 style="text-align: center;">User info</h2>
                <p>Height: <input type="number" id="height" value="${userInfo.health.height}"> cm</p>
                <p>Weight: <input type="text" id="weight" value="${userInfo.health.weight}"> kg</p>
                <button onclick="postUserInfo('${username}')">Save User Info</button>
                <p><span id="bmiText" style="font-size: 14px; margin-top: 5px;"></span></p>
                <canvas id="bmiGraph" width="30" height="20"></canvas>
            </div>

            <div id="userPreferences" class="profile_layout">
                <h2 style="text-align: center">Preferences</h2>
                <p>Preferences goes here</p>
            </div>
        </div>
    </div>

    <div id="userfriend" class="page center">
        <h2>Users friends name goes here + stats</h2>
        <p id="statsTextFriend"></p>


        <div class="dropdown-container">
            <div class="dropdown">
                <button onclick="dropdown_toggle('myDropdown2')" class="dropbtn">Change type</button>
                <div id="myDropdown2" class="dropdown-content">
                    <a href="#" onclick="update_graph_friend(null, null, 'cardio', null)">Cardio</a>
                    <a href="#" onclick="update_graph_friend(null, null,'core', null)">Core</a>
                    <a href="#" onclick="update_graph_friend(null, null,'lowerbody', null)">Lowerbody</a>
                </div>
            </div>
        </div>


        <div class="dropdown-container">
            <div class="dropdown">
                <button onclick="dropdown_toggle('myDropdown3')" class="dropbtn">Change period</button>
                <div id="myDropdown3" class="dropdown-content">
                    <a href="#" onclick="update_graph_friend(null, 'daily')">Daily</a>
                    <a href="#" onclick="update_graph_friend(null, 'weekly')">Weekly</a>
                    <a href="#" onclick="update_graph_friend(null, 'monthly')">Monthly</a>
                </div>
            </div>
        </div>

        <div>
            <h1>Comparing graph with !friends name goes here! </h1>
            <p id="textfriend"> </p>
            <canvas id="myChart2" style="width:100%;max-width:1000px"></canvas>
        </div>

    </div>

    <!-- JavaScript to handle navigation -->
    <script src="js/script.js"></script>
    <script src="js/Quest_Creation.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    <script src="js/Graph.js"></script>

</body>

</html>